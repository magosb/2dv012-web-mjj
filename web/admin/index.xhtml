<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head lang="en">
    <link rel="shortcut icon" type="image/x-icon" href="#{resource['default:images/fav_ico.ico']}"/>
    <title>Edit calendar</title>
    <h:outputStylesheet library="default" name="css/style.css"/>
</h:head>
<h:body>
    <ui:insert name="header">
        <ui:include src="../header.xhtml"/>
    </ui:insert>
    <section class="admin_panel">
        <h:form>
            <div class="admin_panelpart">
                <h:commandButton value="Log out" action="#{admin.logout}"/>
            </div>
            <div class="admin_panelpart">
                Currently logged in as <h:outputText id="username" value="#{admin.username}"/>
            </div>
        </h:form>
    </section>
    <section>


        <h:form>
            <h:panelGroup layout="block">
                <h:commandButton action="add" styleClass="add_button"/>
            </h:panelGroup>
            <ui:repeat value="#{thumbnails.calendarNames}" var="calendarName">
                <h:panelGroup layout="block" class="thumbnail_container">
                    <p:graphicImage value="#{dataService.calendarThumbnail}" alt="#{calendarName}" styleClass="thumbnail">
                        <f:param name="cal" value="#{calendarName}"/>
                    </p:graphicImage>
                    <f:param name="cal" value="#{calendarName}"/>
                    <br/>
                    <h:panelGroup layout="block" class="edit_panel">
                        <h:link outcome="edit">
                            <p:graphicImage name="/default/1_0/images/edit.png" styleClass="lock">
                            </p:graphicImage>
                            <f:param name="cal" value="#{calendarName}"/>
                        </h:link>
                    </h:panelGroup>
                    <h:panelGroup layout="block" class="delete_panel">
                        <p:lightBox id="lighbox">
                            <p:graphicImage name="/default/1_0/images/delete.png" styleClass="lock">
                            </p:graphicImage>
                            <f:facet name="inline">
                                <p:media value="#{dataService.streamedContent}" width="400" height="225" player="flash"/>
                            </f:facet>
                        </p:lightBox>
                    </h:panelGroup>
                </h:panelGroup>
            </ui:repeat>
        </h:form>
    </section>
    <ui:insert name="footer">
        <ui:include src="../footer.xhtml"/>
    </ui:insert>
</h:body>
</html>
